# Copyright (C) 2018-2026 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

import os
import sys

import tensorflow as tf

# Model:
# [(int16)Input_0[1,128], (int16)Input_1[1,128]] -> Mul -> [(uint8)Result_0[1,128], (uint8)Reshape -> (uint8)Result_1[1,1,128]]
sm_path = os.path.join(sys.argv[1], "quantize_multi_outs")
tflite_model = b'\x1c\x00\x00\x00TFL3\x00\x00\x12\x00\x1c\x00\x18\x00\x14\x00\x10\x00\x0c\x00\x08\x00\x00\x00\x04\x00\x12\x00\x00\x00\x18\x00\x00\x00H\x00\x00\x00\x8c\x00\x00\x00\x9c\x00\x00\x00\xa0\x03\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x0c\x00\x00\x00\x08\x00\x0c\x00\x08\x00\x04\x00\x08\x00\x00\x00\xca\x01\x00\x00\x04\x00\x00\x00\x13\x00\x00\x00min_runtime_version\x00\x06\x00\x00\x00@\x00\x00\x00$\x00\x00\x00\x1c\x00\x00\x00\x14\x00\x00\x00\x0c\x00\x00\x00\x04\x00\x00\x00\xf8\xfb\xff\xff\xfc\xfb\xff\xff\x00\xfc\xff\xff\x04\xfc\xff\xff\x86\xff\xff\xff\x04\x00\x00\x00\x0c\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00 \xfc\xff\xff\x0f\x00\x00\x00TOCO Converted.\x00\x01\x00\x00\x00\x04\x00\x00\x00d\xfd\xff\xff\x10\x00\x00\x00\xb8\x00\x00\x00\xc0\x00\x00\x00\xc8\x00\x00\x00\x02\x00\x00\x00p\x00\x00\x00\x04\x00\x00\x00\xac\xff\xff\xff\x18\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x110\x00\x00\x004\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06\x00\x08\x00\x04\x00\x06\x00\x00\x00\x04\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x14\x00\x1c\x00\x18\x00\x14\x00\x10\x00\x0f\x00\x08\x00\x00\x00\x00\x00\x04\x00\x14\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x15\x14\x00\x00\x00\x18\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\xe8\xfc\xff\xff\x01\x00\x00\x00\x03\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\xa8\x01\x00\x00T\x01\x00\x00\xe4\x00\x00\x00p\x00\x00\x00\x04\x00\x00\x00z\xfe\xff\xff\x14\x00\x00\x00H\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x07H\x00\x00\x00l\xfe\xff\xff\x10\x00\x00\x00\x18\x00\x00\x00\x1c\x00\x00\x00 \x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x008\x01\x00\x00\x00\x00\xfe\x7f?\x01\x00\x00\x00\x00\x00\x80\xbf\x07\x00\x00\x00Input_1\x00\x02\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\xe2\xfe\xff\xff\x14\x00\x00\x00L\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x03P\x00\x00\x00\xd4\xfe\xff\xff\x10\x00\x00\x00\x1c\x00\x00\x00 \x00\x00\x00$\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00<\x01\x00\x00\x00\x00\x00~?\x01\x00\x00\x00\x00\x00\x80\xbf\x08\x00\x00\x00Result_0\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00R\xff\xff\xff\x14\x00\x00\x00L\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x07L\x00\x00\x00D\xff\xff\xff\x10\x00\x00\x00\x1c\x00\x00\x00 \x00\x00\x00$\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x008\x01\x00\x00\x00\x00\xfe\x7f?\x01\x00\x00\x00\x00\x00\x80\xbf\x07\x00\x00\x00Input_0\x00\x02\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\xbe\xff\xff\xff\x14\x00\x00\x00\x14\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x02 \x00\x00\x00\x8c\xfe\xff\xff\x12\x00\x00\x00ExpandDims_3/dim_0\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x00\x00\x0e\x00\x18\x00\x14\x00\x13\x00\x0c\x00\x08\x00\x04\x00\x0e\x00\x00\x00 \x00\x00\x00T\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x03X\x00\x00\x00\x0c\x00\x14\x00\x10\x00\x0c\x00\x08\x00\x04\x00\x0c\x00\x00\x00\x10\x00\x00\x00\x18\x00\x00\x00\x1c\x00\x00\x00 \x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00<\x01\x00\x00\x00\x00\x00~?\x01\x00\x00\x00\x00\x00\x80\xbf\x08\x00\x00\x00Result_1\x00\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x80\x00\x00\x00\n\x00\x00\x00\xc0\x00\x00\x00\xac\x00\x00\x00\x90\x00\x00\x00\x80\x00\x00\x00l\x00\x00\x00P\x00\x00\x00<\x00\x00\x00,\x00\x00\x00\x18\x00\x00\x00\x04\x00\x00\x00\xb8\xff\xff\xff1\x00\x00\x00\x04\x00\x00\x00\x00\x00\x001\xc8\xff\xff\xff\x1c\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x1c\xa4\xff\xff\xff\x16\x00\x00\x00\x00\x00\x00\x16\xe4\xff\xff\xff\x12\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x12\xc0\xff\xff\xff\x12\x00\x00\x00\x00\x00\x00\x12\x0c\x00\x10\x00\x0f\x00\x00\x00\x08\x00\x04\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x0e\xe8\xff\xff\xff\x0e\x00\x00\x00\x00\x00\x00\x0e\xf4\xff\xff\xff\t\x00\x00\x00\x00\x00\x00\t\x0c\x00\x0c\x00\x0b\x00\x00\x00\x00\x00\x04\x00\x0c\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x02\x04\x00\x04\x00\x04\x00\x00\x00'

with open(os.path.join(sys.argv[1], sm_path + ".tflite"), 'wb') as f:
    f.write(tflite_model)

print(f"Generated: {os.path.join(sys.argv[1], sm_path + '.tflite')}")
